"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(middleware)/./node_modules/next/dist/esm/server/web/exports/next-response.js\");\n\n// List of public routes that don't require authentication\nconst publicRoutes = [\n    \"/\",\n    \"/login\",\n    \"/register\",\n    \"/forgot-password\",\n    \"/reset-password\",\n    \"/verify-otp\",\n    \"/api/auth\",\n    \"/_next\",\n    \"/favicon.ico\"\n];\n// List of header routes that should be protected\nconst headerRoutes = [\n    \"/contact\",\n    \"/all-suppliers\",\n    \"/subscription\",\n    \"/about\",\n    \"/profile\",\n    \"/business\"\n];\n// List of auth pages that should redirect to profile if already logged in\nconst authPages = [\n    \"/login\",\n    \"/register\",\n    \"/forgot-password\",\n    \"/reset-password\",\n    \"/verify-otp\"\n];\nfunction middleware(request) {\n    const { pathname } = request.nextUrl;\n    const token = request.cookies.get(\"supplier_token\");\n    // Skip middleware for public routes\n    if (publicRoutes.some((route)=>pathname.startsWith(route))) {\n        // If user is already logged in and tries to access auth pages, redirect to profile\n        if (authPages.some((page)=>pathname.startsWith(page)) && token) {\n            const url = request.nextUrl.clone();\n            url.pathname = \"/profile\";\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redirect(url);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n    }\n    // Check if the route is a protected route (header routes or any other non-public route)\n    const isProtectedRoute = headerRoutes.some((route)=>pathname.startsWith(route)) || !publicRoutes.some((route)=>pathname.startsWith(route));\n    if (isProtectedRoute) {\n        // If no token, redirect to login with the current path as redirect URL\n        if (!token) {\n            const loginUrl = new URL(\"/login\", request.url);\n            loginUrl.searchParams.set(\"redirect\", pathname);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redirect(loginUrl);\n        }\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n}\n// Configure which paths the middleware should run on\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     */ \"/((?!api|_next/static|_next/image|favicon.ico).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFHM0MsMERBQTBEO0FBQzFELE1BQU1DLGVBQWU7SUFDbkI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCxpREFBaUQ7QUFDakQsTUFBTUMsZUFBZTtJQUNuQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVELDBFQUEwRTtBQUMxRSxNQUFNQyxZQUFZO0lBQ2hCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRDtBQUVNLFNBQVNDLFdBQVdDLE9BQW9CO0lBQzdDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdELFFBQVFFLE9BQU87SUFDcEMsTUFBTUMsUUFBUUgsUUFBUUksT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFFbEMsb0NBQW9DO0lBQ3BDLElBQUlULGFBQWFVLElBQUksQ0FBQ0MsQ0FBQUEsUUFBU04sU0FBU08sVUFBVSxDQUFDRCxTQUFTO1FBQzFELG1GQUFtRjtRQUNuRixJQUFJVCxVQUFVUSxJQUFJLENBQUNHLENBQUFBLE9BQVFSLFNBQVNPLFVBQVUsQ0FBQ0MsVUFBVU4sT0FBTztZQUM5RCxNQUFNTyxNQUFNVixRQUFRRSxPQUFPLENBQUNTLEtBQUs7WUFDakNELElBQUlULFFBQVEsR0FBRztZQUNmLE9BQU9OLGtGQUFZQSxDQUFDaUIsUUFBUSxDQUFDRjtRQUMvQjtRQUNBLE9BQU9mLGtGQUFZQSxDQUFDa0IsSUFBSTtJQUMxQjtJQUVBLHdGQUF3RjtJQUN4RixNQUFNQyxtQkFBbUJqQixhQUFhUyxJQUFJLENBQUNDLENBQUFBLFFBQVNOLFNBQVNPLFVBQVUsQ0FBQ0QsV0FDakQsQ0FBQ1gsYUFBYVUsSUFBSSxDQUFDQyxDQUFBQSxRQUFTTixTQUFTTyxVQUFVLENBQUNEO0lBRXZFLElBQUlPLGtCQUFrQjtRQUNwQix1RUFBdUU7UUFDdkUsSUFBSSxDQUFDWCxPQUFPO1lBQ1YsTUFBTVksV0FBVyxJQUFJQyxJQUFJLFVBQVVoQixRQUFRVSxHQUFHO1lBQzlDSyxTQUFTRSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxZQUFZakI7WUFDdEMsT0FBT04sa0ZBQVlBLENBQUNpQixRQUFRLENBQUNHO1FBQy9CO0lBQ0Y7SUFFQSxPQUFPcEIsa0ZBQVlBLENBQUNrQixJQUFJO0FBQzFCO0FBRUEscURBQXFEO0FBQzlDLE1BQU1NLFNBQVM7SUFDcEJDLFNBQVM7UUFDUDs7Ozs7O0tBTUMsR0FDRDtLQUNEO0FBQ0gsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9taWRkbGV3YXJlLnRzPzQyMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHR5cGUgeyBOZXh0UmVxdWVzdCB9IGZyb20gJ25leHQvc2VydmVyJztcbiBcbi8vIExpc3Qgb2YgcHVibGljIHJvdXRlcyB0aGF0IGRvbid0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cbmNvbnN0IHB1YmxpY1JvdXRlcyA9IFtcbiAgJy8nLFxuICAnL2xvZ2luJyxcbiAgJy9yZWdpc3RlcicsXG4gICcvZm9yZ290LXBhc3N3b3JkJyxcbiAgJy9yZXNldC1wYXNzd29yZCcsXG4gICcvdmVyaWZ5LW90cCcsXG4gICcvYXBpL2F1dGgnLFxuICAnL19uZXh0JyxcbiAgJy9mYXZpY29uLmljbydcbl07XG5cbi8vIExpc3Qgb2YgaGVhZGVyIHJvdXRlcyB0aGF0IHNob3VsZCBiZSBwcm90ZWN0ZWRcbmNvbnN0IGhlYWRlclJvdXRlcyA9IFtcbiAgJy9jb250YWN0JyxcbiAgJy9hbGwtc3VwcGxpZXJzJyxcbiAgJy9zdWJzY3JpcHRpb24nLFxuICAnL2Fib3V0JyxcbiAgJy9wcm9maWxlJyxcbiAgJy9idXNpbmVzcydcbl07XG5cbi8vIExpc3Qgb2YgYXV0aCBwYWdlcyB0aGF0IHNob3VsZCByZWRpcmVjdCB0byBwcm9maWxlIGlmIGFscmVhZHkgbG9nZ2VkIGluXG5jb25zdCBhdXRoUGFnZXMgPSBbXG4gICcvbG9naW4nLFxuICAnL3JlZ2lzdGVyJyxcbiAgJy9mb3Jnb3QtcGFzc3dvcmQnLFxuICAnL3Jlc2V0LXBhc3N3b3JkJyxcbiAgJy92ZXJpZnktb3RwJ1xuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgeyBwYXRobmFtZSB9ID0gcmVxdWVzdC5uZXh0VXJsO1xuICBjb25zdCB0b2tlbiA9IHJlcXVlc3QuY29va2llcy5nZXQoJ3N1cHBsaWVyX3Rva2VuJyk7XG4gIFxuICAvLyBTa2lwIG1pZGRsZXdhcmUgZm9yIHB1YmxpYyByb3V0ZXNcbiAgaWYgKHB1YmxpY1JvdXRlcy5zb21lKHJvdXRlID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpKSkge1xuICAgIC8vIElmIHVzZXIgaXMgYWxyZWFkeSBsb2dnZWQgaW4gYW5kIHRyaWVzIHRvIGFjY2VzcyBhdXRoIHBhZ2VzLCByZWRpcmVjdCB0byBwcm9maWxlXG4gICAgaWYgKGF1dGhQYWdlcy5zb21lKHBhZ2UgPT4gcGF0aG5hbWUuc3RhcnRzV2l0aChwYWdlKSkgJiYgdG9rZW4pIHtcbiAgICAgIGNvbnN0IHVybCA9IHJlcXVlc3QubmV4dFVybC5jbG9uZSgpO1xuICAgICAgdXJsLnBhdGhuYW1lID0gJy9wcm9maWxlJztcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QodXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KCk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB0aGUgcm91dGUgaXMgYSBwcm90ZWN0ZWQgcm91dGUgKGhlYWRlciByb3V0ZXMgb3IgYW55IG90aGVyIG5vbi1wdWJsaWMgcm91dGUpXG4gIGNvbnN0IGlzUHJvdGVjdGVkUm91dGUgPSBoZWFkZXJSb3V0ZXMuc29tZShyb3V0ZSA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHJvdXRlKSkgfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIXB1YmxpY1JvdXRlcy5zb21lKHJvdXRlID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgocm91dGUpKTtcbiAgXG4gIGlmIChpc1Byb3RlY3RlZFJvdXRlKSB7XG4gICAgLy8gSWYgbm8gdG9rZW4sIHJlZGlyZWN0IHRvIGxvZ2luIHdpdGggdGhlIGN1cnJlbnQgcGF0aCBhcyByZWRpcmVjdCBVUkxcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICBjb25zdCBsb2dpblVybCA9IG5ldyBVUkwoJy9sb2dpbicsIHJlcXVlc3QudXJsKTtcbiAgICAgIGxvZ2luVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlZGlyZWN0JywgcGF0aG5hbWUpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChsb2dpblVybCk7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbn1cblxuLy8gQ29uZmlndXJlIHdoaWNoIHBhdGhzIHRoZSBtaWRkbGV3YXJlIHNob3VsZCBydW4gb25cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIG1hdGNoZXI6IFtcbiAgICAvKlxuICAgICAqIE1hdGNoIGFsbCByZXF1ZXN0IHBhdGhzIGV4Y2VwdCBmb3IgdGhlIG9uZXMgc3RhcnRpbmcgd2l0aDpcbiAgICAgKiAtIGFwaSAoQVBJIHJvdXRlcylcbiAgICAgKiAtIF9uZXh0L3N0YXRpYyAoc3RhdGljIGZpbGVzKVxuICAgICAqIC0gX25leHQvaW1hZ2UgKGltYWdlIG9wdGltaXphdGlvbiBmaWxlcylcbiAgICAgKiAtIGZhdmljb24uaWNvIChmYXZpY29uIGZpbGUpXG4gICAgICovXG4gICAgJy8oKD8hYXBpfF9uZXh0L3N0YXRpY3xfbmV4dC9pbWFnZXxmYXZpY29uLmljbykuKiknLFxuICBdLFxufTtcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwdWJsaWNSb3V0ZXMiLCJoZWFkZXJSb3V0ZXMiLCJhdXRoUGFnZXMiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsInBhdGhuYW1lIiwibmV4dFVybCIsInRva2VuIiwiY29va2llcyIsImdldCIsInNvbWUiLCJyb3V0ZSIsInN0YXJ0c1dpdGgiLCJwYWdlIiwidXJsIiwiY2xvbmUiLCJyZWRpcmVjdCIsIm5leHQiLCJpc1Byb3RlY3RlZFJvdXRlIiwibG9naW5VcmwiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});