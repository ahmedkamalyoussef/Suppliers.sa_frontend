"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./middleware.ts":
/*!***********************!*\
  !*** ./middleware.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(middleware)/./node_modules/next/dist/esm/server/web/exports/next-response.js\");\n\n// List of public routes that don't require authentication\nconst publicRoutes = [\n    \"/\",\n    \"/login\",\n    \"/register\",\n    \"/forgot-password\",\n    \"/reset-password\",\n    \"/verify-otp\",\n    \"/api/auth\",\n    \"/_next\",\n    \"/favicon.ico\",\n    \"/images\",\n    \"/fonts\",\n    \"/favicons\"\n];\n// List of auth pages that should redirect to profile if already logged in\nconst authPages = [\n    \"/login\",\n    \"/register\",\n    \"/forgot-password\",\n    \"/reset-password\",\n    \"/verify-otp\"\n];\nfunction middleware(request) {\n    const { pathname } = request.nextUrl;\n    const token = request.cookies.get(\"supplier_token\");\n    // Skip middleware for static files and API routes\n    if (pathname.startsWith(\"/_next\") || pathname.startsWith(\"/api\") || pathname.startsWith(\"/static\") || pathname.endsWith(\".ico\") || pathname.endsWith(\".png\") || pathname.endsWith(\".jpg\") || pathname.endsWith(\".jpeg\") || pathname.endsWith(\".svg\") || pathname.endsWith(\".css\") || pathname.endsWith(\".js\")) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n    }\n    // Handle auth pages (login, register, etc.)\n    if (authPages.some((page)=>pathname.startsWith(page))) {\n        if (token) {\n            // If user is already logged in, redirect to profile\n            const url = request.nextUrl.clone();\n            url.pathname = \"/profile\";\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redirect(url);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n    }\n    // Check if the current path is a public route\n    const isPublicRoute = publicRoutes.some((route)=>pathname === route || pathname.startsWith(`${route}/`));\n    // If it's a public route, allow access\n    if (isPublicRoute) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n    }\n    // If no token and not a public route, redirect to login\n    if (!token) {\n        const loginUrl = new URL(\"/login\", request.url);\n        loginUrl.searchParams.set(\"redirect\", pathname);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].redirect(loginUrl);\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].next();\n}\nconst config = {\n    matcher: [\n        /*\n     * Match all request paths except for the ones starting with:\n     * - api (API routes)\n     * - _next/static (static files)\n     * - _next/image (image optimization files)\n     * - favicon.ico (favicon file)\n     * - public folder\n     */ \"/((?!_next/static|_next/image|favicon.ico|api/auth/).*)\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vbWlkZGxld2FyZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFHM0MsMERBQTBEO0FBQzFELE1BQU1DLGVBQWU7SUFDbkI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFRCwwRUFBMEU7QUFDMUUsTUFBTUMsWUFBWTtJQUNoQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFFTSxTQUFTQyxXQUFXQyxPQUFvQjtJQUM3QyxNQUFNLEVBQUVDLFFBQVEsRUFBRSxHQUFHRCxRQUFRRSxPQUFPO0lBQ3BDLE1BQU1DLFFBQVFILFFBQVFJLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO0lBRWxDLGtEQUFrRDtJQUNsRCxJQUNFSixTQUFTSyxVQUFVLENBQUMsYUFDcEJMLFNBQVNLLFVBQVUsQ0FBQyxXQUNwQkwsU0FBU0ssVUFBVSxDQUFDLGNBQ3BCTCxTQUFTTSxRQUFRLENBQUMsV0FDbEJOLFNBQVNNLFFBQVEsQ0FBQyxXQUNsQk4sU0FBU00sUUFBUSxDQUFDLFdBQ2xCTixTQUFTTSxRQUFRLENBQUMsWUFDbEJOLFNBQVNNLFFBQVEsQ0FBQyxXQUNsQk4sU0FBU00sUUFBUSxDQUFDLFdBQ2xCTixTQUFTTSxRQUFRLENBQUMsUUFDbEI7UUFDQSxPQUFPWCxrRkFBWUEsQ0FBQ1ksSUFBSTtJQUMxQjtJQUVBLDRDQUE0QztJQUM1QyxJQUFJVixVQUFVVyxJQUFJLENBQUNDLENBQUFBLE9BQVFULFNBQVNLLFVBQVUsQ0FBQ0ksUUFBUTtRQUNyRCxJQUFJUCxPQUFPO1lBQ1Qsb0RBQW9EO1lBQ3BELE1BQU1RLE1BQU1YLFFBQVFFLE9BQU8sQ0FBQ1UsS0FBSztZQUNqQ0QsSUFBSVYsUUFBUSxHQUFHO1lBQ2YsT0FBT0wsa0ZBQVlBLENBQUNpQixRQUFRLENBQUNGO1FBQy9CO1FBQ0EsT0FBT2Ysa0ZBQVlBLENBQUNZLElBQUk7SUFDMUI7SUFFQSw4Q0FBOEM7SUFDOUMsTUFBTU0sZ0JBQWdCakIsYUFBYVksSUFBSSxDQUFDTSxDQUFBQSxRQUN0Q2QsYUFBYWMsU0FBU2QsU0FBU0ssVUFBVSxDQUFDLENBQUMsRUFBRVMsTUFBTSxDQUFDLENBQUM7SUFHdkQsdUNBQXVDO0lBQ3ZDLElBQUlELGVBQWU7UUFDakIsT0FBT2xCLGtGQUFZQSxDQUFDWSxJQUFJO0lBQzFCO0lBRUEsd0RBQXdEO0lBQ3hELElBQUksQ0FBQ0wsT0FBTztRQUNWLE1BQU1hLFdBQVcsSUFBSUMsSUFBSSxVQUFVakIsUUFBUVcsR0FBRztRQUM5Q0ssU0FBU0UsWUFBWSxDQUFDQyxHQUFHLENBQUMsWUFBWWxCO1FBQ3RDLE9BQU9MLGtGQUFZQSxDQUFDaUIsUUFBUSxDQUFDRztJQUMvQjtJQUVBLE9BQU9wQixrRkFBWUEsQ0FBQ1ksSUFBSTtBQUMxQjtBQUVPLE1BQU1ZLFNBQVM7SUFDcEJDLFNBQVM7UUFDUDs7Ozs7OztLQU9DLEdBQ0Q7S0FDRDtBQUNILEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbWlkZGxld2FyZS50cz80MjJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB0eXBlIHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG4gXG4vLyBMaXN0IG9mIHB1YmxpYyByb3V0ZXMgdGhhdCBkb24ndCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5jb25zdCBwdWJsaWNSb3V0ZXMgPSBbXG4gICcvJyxcbiAgJy9sb2dpbicsXG4gICcvcmVnaXN0ZXInLFxuICAnL2ZvcmdvdC1wYXNzd29yZCcsXG4gICcvcmVzZXQtcGFzc3dvcmQnLFxuICAnL3ZlcmlmeS1vdHAnLFxuICAnL2FwaS9hdXRoJyxcbiAgJy9fbmV4dCcsXG4gICcvZmF2aWNvbi5pY28nLFxuICAnL2ltYWdlcycsXG4gICcvZm9udHMnLFxuICAnL2Zhdmljb25zJ1xuXTtcblxuLy8gTGlzdCBvZiBhdXRoIHBhZ2VzIHRoYXQgc2hvdWxkIHJlZGlyZWN0IHRvIHByb2ZpbGUgaWYgYWxyZWFkeSBsb2dnZWQgaW5cbmNvbnN0IGF1dGhQYWdlcyA9IFtcbiAgJy9sb2dpbicsXG4gICcvcmVnaXN0ZXInLFxuICAnL2ZvcmdvdC1wYXNzd29yZCcsXG4gICcvcmVzZXQtcGFzc3dvcmQnLFxuICAnL3ZlcmlmeS1vdHAnXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gbWlkZGxld2FyZShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICBjb25zdCB7IHBhdGhuYW1lIH0gPSByZXF1ZXN0Lm5leHRVcmw7XG4gIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgnc3VwcGxpZXJfdG9rZW4nKTtcbiAgXG4gIC8vIFNraXAgbWlkZGxld2FyZSBmb3Igc3RhdGljIGZpbGVzIGFuZCBBUEkgcm91dGVzXG4gIGlmIChcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvX25leHQnKSB8fCBcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvYXBpJykgfHxcbiAgICBwYXRobmFtZS5zdGFydHNXaXRoKCcvc3RhdGljJykgfHxcbiAgICBwYXRobmFtZS5lbmRzV2l0aCgnLmljbycpIHx8XG4gICAgcGF0aG5hbWUuZW5kc1dpdGgoJy5wbmcnKSB8fFxuICAgIHBhdGhuYW1lLmVuZHNXaXRoKCcuanBnJykgfHxcbiAgICBwYXRobmFtZS5lbmRzV2l0aCgnLmpwZWcnKSB8fFxuICAgIHBhdGhuYW1lLmVuZHNXaXRoKCcuc3ZnJykgfHxcbiAgICBwYXRobmFtZS5lbmRzV2l0aCgnLmNzcycpIHx8XG4gICAgcGF0aG5hbWUuZW5kc1dpdGgoJy5qcycpXG4gICkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xuICB9XG4gIFxuICAvLyBIYW5kbGUgYXV0aCBwYWdlcyAobG9naW4sIHJlZ2lzdGVyLCBldGMuKVxuICBpZiAoYXV0aFBhZ2VzLnNvbWUocGFnZSA9PiBwYXRobmFtZS5zdGFydHNXaXRoKHBhZ2UpKSkge1xuICAgIGlmICh0b2tlbikge1xuICAgICAgLy8gSWYgdXNlciBpcyBhbHJlYWR5IGxvZ2dlZCBpbiwgcmVkaXJlY3QgdG8gcHJvZmlsZVxuICAgICAgY29uc3QgdXJsID0gcmVxdWVzdC5uZXh0VXJsLmNsb25lKCk7XG4gICAgICB1cmwucGF0aG5hbWUgPSAnL3Byb2ZpbGUnO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbiAgfVxuXG4gIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHBhdGggaXMgYSBwdWJsaWMgcm91dGVcbiAgY29uc3QgaXNQdWJsaWNSb3V0ZSA9IHB1YmxpY1JvdXRlcy5zb21lKHJvdXRlID0+IFxuICAgIHBhdGhuYW1lID09PSByb3V0ZSB8fCBwYXRobmFtZS5zdGFydHNXaXRoKGAke3JvdXRlfS9gKVxuICApO1xuXG4gIC8vIElmIGl0J3MgYSBwdWJsaWMgcm91dGUsIGFsbG93IGFjY2Vzc1xuICBpZiAoaXNQdWJsaWNSb3V0ZSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xuICB9XG5cbiAgLy8gSWYgbm8gdG9rZW4gYW5kIG5vdCBhIHB1YmxpYyByb3V0ZSwgcmVkaXJlY3QgdG8gbG9naW5cbiAgaWYgKCF0b2tlbikge1xuICAgIGNvbnN0IGxvZ2luVXJsID0gbmV3IFVSTCgnL2xvZ2luJywgcmVxdWVzdC51cmwpO1xuICAgIGxvZ2luVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3JlZGlyZWN0JywgcGF0aG5hbWUpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobG9naW5VcmwpO1xuICB9XG4gIFxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKTtcbn1cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcbiAgbWF0Y2hlcjogW1xuICAgIC8qXG4gICAgICogTWF0Y2ggYWxsIHJlcXVlc3QgcGF0aHMgZXhjZXB0IGZvciB0aGUgb25lcyBzdGFydGluZyB3aXRoOlxuICAgICAqIC0gYXBpIChBUEkgcm91dGVzKVxuICAgICAqIC0gX25leHQvc3RhdGljIChzdGF0aWMgZmlsZXMpXG4gICAgICogLSBfbmV4dC9pbWFnZSAoaW1hZ2Ugb3B0aW1pemF0aW9uIGZpbGVzKVxuICAgICAqIC0gZmF2aWNvbi5pY28gKGZhdmljb24gZmlsZSlcbiAgICAgKiAtIHB1YmxpYyBmb2xkZXJcbiAgICAgKi9cbiAgICAnLygoPyFfbmV4dC9zdGF0aWN8X25leHQvaW1hZ2V8ZmF2aWNvbi5pY298YXBpL2F1dGgvKS4qKScsXG4gIF0sXG59O1xuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInB1YmxpY1JvdXRlcyIsImF1dGhQYWdlcyIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwicGF0aG5hbWUiLCJuZXh0VXJsIiwidG9rZW4iLCJjb29raWVzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsImVuZHNXaXRoIiwibmV4dCIsInNvbWUiLCJwYWdlIiwidXJsIiwiY2xvbmUiLCJyZWRpcmVjdCIsImlzUHVibGljUm91dGUiLCJyb3V0ZSIsImxvZ2luVXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(middleware)/./middleware.ts\n");

/***/ })

});